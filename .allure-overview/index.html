<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-[#29818c] text-white font-mono">
  <header class="relative flex items-center justify-between overflow-hidden">
    <div class="basis-1/3">
      <img class="max-w-xs max-h-20" src="https://raw.githubusercontent.com/Telecominfraproject/wlan-cloud-ucentralgw-ui/main/src/assets/OpenWiFi_LogoLockup_WhiteColour.svg" alt="">
    </div>
    <p id="title" class="text-2xl text-center basis-1/3"></p>
    <div class="basis-1/3"></div>
  </header>
  <div id="reports" class="grid grid-cols-1 xl:grid-cols-2 gap-x-6 gap-y-3 auto-rows-auto h-fit"></div>

  <script>
    const title = $OVERVIEW_TITLE
    const testbeds = $OVERVIEW_TESTBEDS

    const titleContainer = document.getElementById('title')
    titleContainer.innerText = title

    const reportContainer = document.getElementById('reports')

    testbeds.forEach(testbed => {
      const iframe = document.createElement('iframe')
      iframe.setAttribute('src', `../${testbed}/latest`)
      iframe.setAttribute('loading', 'lazy')
      iframe.classList.add('w-full', 'min-h-[480px]')

      const caption = document.createElement('a')
      caption.href = `../${testbed}`
      caption.innerText = testbed

      const captionDiv = document.createElement('div')
      captionDiv.classList.add('text-sm', 'text-center', 'underline')
      captionDiv.appendChild(caption)

      const column = document.createElement('div')
      column.classList.add('flex', 'flex-col')
      column.appendChild(captionDiv)
      column.appendChild(iframe)

      reportContainer.appendChild(column)
    });
  </script>
</body>

</html>